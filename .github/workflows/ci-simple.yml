# ================================
# CI/CD Pipeline - VERSION SIMPLE
# ================================
# Version simplifiÃ©e pour dÃ©buter - Sans Docker Hub

# Nom du workflow (apparaÃ®t dans l'UI GitHub)
name: CI Simple

# DÃ©clencheurs
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# Les jobs
jobs:
  test-and-build:
    name: ğŸ§ª Test & Build
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4
      
      - name: ğŸŸ¢ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: ğŸ“¦ Install dependencies
        run: npm ci
      
      - name: âœ… Run tests
        run: npm test
      
      - name: ğŸ³ Build Docker image
        run: docker build -t hello-devops:${{ github.sha }} .
      
      - name: ğŸ‰ Success
        run: |
          echo "âœ… Tests passÃ©s avec succÃ¨s !"
          echo "âœ… Image Docker buildÃ©e avec succÃ¨s !"
          echo "ğŸ“¦ Tag: hello-devops:${{ github.sha }}"
